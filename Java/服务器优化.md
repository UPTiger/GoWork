





-----------------------------------------------------------------------------------------------

在linux终端中输入**ulimit -a**

“open files”参数选项后面的数值就是当前系统支持的最大打开文件数

**修改linux最大文件打开数**

如果要修改linux最大文件打开数，可以通过如下图参数命令 unlimit -n 后面接需要设置的文件数量。

设置好之后，再次查看 unlimit -a 你会发现已经设置为新的数量了

unlimit -a 4096设置文件打开数

/etc/init.d/umail_dovecot restart

{vim /etc/security/limits.conf   最后两行增加

1. - - nproc           1024000  
2. - - nofile          102400  }

{除此之外，如果针对不同的用户。也可以通过编辑修改 **/etc/rc.local**文件设置环境变量，添加 unlimit -n }

{vi /etc/systemd/system.conf 

DefaultLimitNOFILE=1024000      #这里需要修改 

DefaultLimitNPROC=1024000   #这里也需要修改 

reboot

ulimit -a  }

------

**查看进程打开文件数** 如果需要查看所有进程的文件打开数，如下图命令**lsof |wc -l** 

**查看系统句柄文件数** 当前系统文件句柄的最大数目，只用于查看，不能设置修改

**cat /proc/sys/fs/file-max**